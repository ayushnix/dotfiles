# ~/.bash_profile

# source ~/.bashrc if it exists
# shellcheck disable=SC1090
[[ -f ~/.bashrc ]] && . ~/.bashrc

# XDG configuration
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_CACHE_HOME="$HOME/.cache"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_STATE_HOME="$HOME/.local/state"

# user specific environment variables
export EDITOR=nvim
export BAT_THEME=TwoDark
export PATH="$HOME/.local/bin:$PATH"
export SSH_AUTH_SOCK="$XDG_RUNTIME_DIR/ssh-agent.socket"
export LIBVA_DRIVER_NAME=radeonsi
export WG_COLOR_MODE=always
export WG_HIDE_KEYS=always
export SSH_AUTH_SOCK="$XDG_RUNTIME_DIR/ssh-agent.socket"
export PASSWORD_STORE_DIR="$XDG_DATA_HOME/.password-store"
export PASSWORD_STORE_CLIP_TIME=10
export PASSWORD_STORE_ENABLE_EXTENSIONS=true
# yeah, I know, this is ugly and inelegant but the author of bemenu doesn't want config files
BEMENU_OPTIONS=("-i -l 10 -w --scrollbar=autohide -n --fn 'SF Mono 16' \
                 --nb '#282C34' --nf '#ABB2BF' --tb '#282C34' --tf '#ABB2BF' \
                 --fb '#282C34' --ff '#ABB2BF' --hf '#ABB2BF' --hb '#3E4451' \
                 --sb '#282C34' --sf '#61AFEF' --scb '#282C34' --scf '#61AFEF'")
BEMENU_OPTS="${BEMENU_OPTIONS[*]}"
export BEMENU_OPTS

# start sway automatically after logging in
if [[ -z "${DISPLAY}" ]] && [[ "$(tty)" == "/dev/tty1" ]]; then
  export QT_QPA_PLATFORM=wayland
  export QT_QPA_PLATFORMTHEME=qt5ct
  export _JAVA_AWT_WM_NONREPARENTING=1
  export MOZ_ENABLE_WAYLAND=1
  export XDG_SESSION_TYPE=wayland
  export XDG_CURRENT_DESKTOP=sway
  # sway spams the journal if xwayland is enabled
  exec sway > /dev/null 2>&1
fi
